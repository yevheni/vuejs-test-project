<div class="calendar">
	<div class="bg-white rounded shadow p-4 mb-4">
		<div class="year row gx-3 mb-3 align-items-center">
<!--			<div class="col-auto">-->
<!--				<button-->
<!--					type="button"-->
<!--					class="btn btn-primary-light btn-sm text-primary"-->
<!--					v-on:click="updateDate(-1, 'year')"-->
<!--				>-->
<!--					<-->
<!--				</button>-->
<!--			</div>-->

			<div class="col">
				<h3 class="text-center mb-0">
					{{ weekStartDate.format("YYYY") }}
					{{
						weekStartDate.format("YYYY") !== weekEndDate.format("YYYY") ? weekEndDate.format(" / YYYY") : ""
					}}
				</h3>
			</div>

<!--			<div class="col-auto">-->
<!--				<button-->
<!--					type="button"-->
<!--					class="btn btn-primary-light btn-sm text-primary"-->
<!--					v-on:click="updateDate(1, 'year')"-->
<!--				>-->
<!--					>-->
<!--				</button>-->
<!--			</div>-->
		</div>

		<div class="month row gx-3 mb-3 align-items-center">
			<div class="col-auto">
				<button
					type="button"
					class="btn btn-primary-light btn-sm text-primary"
					v-on:click="updateDate(-1, 'month')"
				>
					<
				</button>
			</div>

			<div class="col">
				<h3 class="text-center mb-0">
					{{ weekStartDate.format("MMMM") }}
					{{
						weekStartDate.format("MMMM") !== weekEndDate.format("MMMM") ? weekEndDate.format(" / MMMM") : ""
					}}
				</h3>
			</div>

			<div class="col-auto">
				<button
					type="button"
					class="btn btn-primary-light btn-sm text-primary"
					v-on:click="updateDate(1, 'month')"
				>
					>
				</button>
			</div>
		</div>

		<div class="week row gx-3 mb-5 align-items-center">
			<div class="col-auto">
				<button
					type="button"
					class="btn btn-primary-light btn-sm text-primary"
					v-on:click="updateDate(-7, 'days')"
				>
					<
				</button>
			</div>

			<div class="col">
				<h3 class="text-center mb-0">
					{{ weekStartDate.format("DD") }} - {{ weekEndDate.format("DD") }}
				</h3>
			</div>

			<div class="col-auto">
				<button
					type="button"
					class="btn btn-primary-light btn-sm text-primary"
					v-on:click="updateDate(7, 'days')"
				>
					>
				</button>
			</div>
		</div>

		<div class="weekdays">
			<div class="weekday mb-4" v-for="(day, i) of weekdays">
				<div class="row gx-2 mb-2">
					<div class="col">
						<h5 class="mb-2">
							<span class="day">
								{{ day.text }}
							</span>

							<span class="date badge bg-primary rounded-pill">
								{{ moment(weekStartDate).day(i + 1).format("DD") }}
							</span>
						</h5>
					</div>

					<div class="col-auto">
						<button type="button" class="btn btn-primary btn-sm" v-on:click="day.show = !day.show">
							<b>
								+
							</b>
						</button>
					</div>
				</div>

				<div class="add-worker-hours mb-2" v-if="day.show">
					<div class="bg-white rounded shadow p-3">
						<form v-on:submit.prevent="addHours(i)">
							<label class="label mb-2">
								Select worker
							</label>

							<div class="row g-2 mb-3">
								<div class="col-auto" v-for="worker of workers">
									<button
										type="button"
										class="btn btn-sm"
										v-on:click="day.worker = worker._id"
										v-bind:class="day.worker === worker._id ? 'btn-primary' : 'btn-outline-primary'"
									>
										{{ worker.name }}
									</button>
								</div>
							</div>


							<label class="label mb-2">
								Select hours
							</label>

							<div class="row g-2 mb-3">
								<div class="col-12">
									<select class="form-select" v-model="day.start">
										<option value="">
											Start
										</option>
										<option v-for="hour of 24" v-bind:value="hour - 1">
											{{ hour - 1 }}
										</option>
									</select>
								</div>

								<div class="col-12">
									<select class="form-select" v-model="day.end">
										<option value="">
											End
										</option>
										<option v-for="hour of 24" v-bind:value="hour - 1">
											{{ hour - 1 }}
										</option>
									</select>
								</div>
							</div>

							<div class="text-end">
								<button type="submit" class="btn btn-primary">
									<b>
										Add
									</b>
								</button>
							</div>
						</form>
					</div>
				</div>

				<div class="hours border border-primary-light rounded p-2 mb-2">
					<div class="hour p-1" v-for="hour of 24">
						<div class="mb-1">
							{{ hour - 1 }}
						</div>

						<div class="worker-hours">
							<div class="worker-hour" v-for="workerHour of getDayHours(i + 1, hour - 1)"></div>
						</div>
					</div>
				</div>

				<div class="workers">
					<div class="worker" v-for="worker of getDayWorkers(i + 1)">
						<span class="me-3">
							{{ worker.name }}
						</span>

						<span class="me-2" v-for="workerHour of worker.hours">
							({{ workerHour.start }} - {{ workerHour.end }})
						</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
